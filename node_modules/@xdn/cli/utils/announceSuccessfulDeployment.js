"use strict";

const {
  green,
  bold
} = require('chalk');

const os = require('os');

const showEmojis = os.platform() !== 'win32';
const emoji = showEmojis ? value => value : () => '';

function announceSuccessfulDeployment(consoleURL, siteURL) {
  const consoleLabel = emoji('ðŸ–¥  ') + 'XDN Developer Console:';
  const siteLabel = emoji('ðŸŒŽ ') + 'Website:';
  const title = ` Deployment Complete `;
  const lineLength = Math.max(Math.max(title.length, consoleURL.length, siteURL.length, consoleLabel.length + 1, siteLabel.length), 50);

  const pad = (str = '', padChar = ' ', additionalLength = 0) => str.padEnd(lineLength + additionalLength, padChar);

  return [green('*****' + pad(bold(title), '*', 5) + '*****'), green('*  ' + pad() + '  *'), green('*  ' + pad(consoleLabel, ' ', showEmojis ? 1 : 0) + '  *'), green('*  ') + pad(consoleURL) + green('  *'), green('*  ' + pad() + '  *'), green('*  ' + bold(pad(siteLabel)) + '  *'), green('*  ') + bold(pad(siteURL)) + green('  *'), green('*  ' + pad() + '  *'), green('***' + pad('', '*') + '***')].join('\n');
}

module.exports = announceSuccessfulDeployment;