#!/usr/bin/env node
// Launch CLI with the new --max-http-header-size option. The size is set to 64kb
// which is the same size we use in XBP. We cannot use the option directly on the bangs
// as not all operating systems/shells support that.
"use strict";

const spawn = require('cross-spawn');

const join = require('path').join;

const args = process.argv.slice(2); // We have to spawn the node with additional arguments while keeping the user provided arguments.

const child = spawn('node', ['--max-http-header-size=65536', join(__dirname, 'cli.js')].concat(args), {
  stdio: 'inherit'
}); // We need the error level of the main process reflect the actual result of the command.

child.on('close', code => process.exit(code));